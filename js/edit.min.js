/*
Edit.js
Auteur : Nicolas Desmarets
Copyright (c) 2021 qr.desmaths.fr
*/

function noBreakLines(str){
	return str.replace(/(\r\n|\n|\r)/gm,"");
}
function onlyAlphaNum(str){
	return str.replace(/[^a-zA-Z0-9-]+/g, '');
}
function noQuotes(str){
	return str.replace(/"/gm,"");
}
function returnHome(){
	window.location = homeURL;
}
$("#inputtitle").bind("input", function() {
	$(this).val(noBreakLines(noQuotes($(this).val())));
});
$("#inputdescription").bind("input", function() {
	$(this).val(noQuotes($(this).val()));
});
function displayError(txt){
    $("#errors").text(txt).fadeIn().delay(3000).fadeOut();
}
$('#addInput').click(function() {
	var nb = $('.link-url').length;
	$("#links").append("<tr><td><input type='text' id='inputtitlelink-" + nb + "' name='inputtitlelink[" + nb + "]' class='link-title field' rows='1' placeholder='...' value='' /></td><td><input type='text' id='inputurllink-" + nb + "' name='inputurllink[" + nb + "]' class='link-url field' rows='1' placeholder='https://...' value='' /></td><td style='width:36px;'><input type='button' onclick='supprlink($i)' class='suppr' value='X' /></td></tr>");
});
function supprlink(id){
	$("#inputtitlelink-" + id).val("");
	$("#inputurllink-" + id).val("");
	$("#trlink-" + id).hide();
}